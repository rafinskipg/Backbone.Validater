/*! Backbone Validater - MIT License - https://github.com/rafinskipg/Backbone.Validater */
(function(i,e){if(typeof define==="function"&&define.amd){define(["jQuery","_","Backbone"],e)}else{i.amdWeb=e(i.jQuery,i._,i.Backbone)}})(this,function(i,e,t){var n=t.View.extend({validations:{},hasContent:function(i){if(e.isBoolean(i)){return true}if(e.isArray(i)&&i.length>0){return true}if(!e.isArray(i)&&e.keys(i).length>0){var t=e.keys(i);for(var n=0;n<t.length;n++){if(this.hasContent(i[t[n]])){return true}}return false}if(e.isFinite(i)||!e.isEmpty(i)){return true}return false},checkRequiredFields:function(){var i=this.model.toJSON();var e=[];for(var t in this.model.requiredFields){var n=this.model.requiredFields[t];if(!this.hasContent(i[n])){e.push({field:n,validation:"required"})}}return e.length>0?e:null},customValidations:function(){var i=this.getConditionsFulfilled();var e=[];if(i.length>0){var t=this;i.forEach(function(i){var n=i.fields.map(function(i){return t.model.get(i)});if(!t[i.validation].apply(t,n)){i.fields.forEach(function(t){e.push({field:t,validation:i.validation})})}})}return e},getConditionsFulfilled:function(){var i=this.extractConditionsFromBindings();var t=this;i=e.compact(i.map(function(i){var e=true;i.fields=i.fields.map(function(i){if(i.indexOf("!")!=0){if(!t.model.get(i)||!t.hasContent(t.model.get(i))){e=false}}else{i=i.replace("!","");if(t.model.get(i)&&t.hasContent(t.model.get(i))){e=false}}return i});if(e){return i}}));return i},extractConditionsFromBindings:function(){var i=[];for(var e in this.validations){var t={};var n=e.split("&");t.fields=n;t.validation=this.validations[e];i.push(t)}return i},validate:function(){var i=e.compact(Array.prototype.concat(this.checkRequiredFields(),this.customValidations()));return i.length>0?i:null}});n.VERSION="<% VERSION %>";t.validator=n;return n});